(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[95],{2281:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),l=t(233),r=t(6),c=t(273),i=t(62),s=t.n(i),m=t(69),u=t(8),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case f:return Object(u.a)(Object(u.a)({},e),{},{data:Object(u.a)({},a.payload)});case E:return e.data.counselor[0].full_name='["'+a.payload.full_names.join('","')+'"]',e.data.counselor[0].email='["'+a.payload.emails.join('","')+'"]',e.data.counselor[0].mobile='["'+a.payload.mobiles.join('","')+'"]',Object(u.a)({},e);default:return e}},p=Object(m.d)({counselorData:d}),f="GET COUNSELOR DATA",E="UPDATE COUNSELOR DATA";function b(e,a,t){return function(n){return n({type:E,payload:{full_names:e,mobiles:a,emails:t}})}}var g=t(13),h=t(20),v=(t(196),t(1348)),O=t(1623),y=t(203),j=t(1376),C=t(1417),N=t.n(C),x=t(1429),w=t.n(x),_=t(1574),k=t.n(_),A=t(1442),D=t.n(A),z=t(1441),F=t.n(z),S=t(1567),T=t.n(S),I=t(1568),J=t.n(I),H=t(1569),U=t.n(H),q=Object(v.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),margin:"auto"},button:{margin:e.spacing(1)},msg_button:{color:"#ddd"},form_root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"100%"}},pagination:{"& > *":{marginTop:e.spacing(2)}},image:{width:128,height:128},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%",objectFit:"fill",backgroundColor:"rgb(97, 218, 251)"}}}));function L(e){var a=q(),t=e.data,n=JSON.parse(t.full_name),l=JSON.parse(t.mobile),c=JSON.parse(t.email),i=Object(r.b)(),m=o.a.useState(!1),u=Object(h.a)(m,2),d=u[0],p=u[1],E=o.a.useState(!1),v=Object(h.a)(E,2),C=v[0],x=v[1],_=o.a.useState(!1),A=Object(h.a)(_,2),z=A[0],S=A[1];var I=function(e,a){"clickaway"!==a&&(p(!1),S(!1),x(!1))};function H(e){return o.a.createElement(D.a,Object.assign({elevation:6,variant:"filled"},e))}return o.a.createElement("div",{className:a.root},o.a.createElement(F.a,{style:{zIndex:2e3},open:d,autoHideDuration:3e3,onClose:I,anchorOrigin:{vertical:"center",horizontal:"center"}},o.a.createElement(H,{onClose:I,severity:"success"},"Operation Success!")),o.a.createElement(F.a,{style:{zIndex:2e3},open:z,autoHideDuration:3e3,onClose:I,anchorOrigin:{vertical:"center",horizontal:"center"}},o.a.createElement(H,{onClose:I,severity:"warning"},"Invalid Form Data!")),o.a.createElement(F.a,{style:{zIndex:2e3},open:C,autoHideDuration:3e3,onClose:I,anchorOrigin:{vertical:"center",horizontal:"center"}},o.a.createElement(H,{onClose:I,severity:"error"},"Operation Failed!")),o.a.createElement(y.a,{className:a.paper},n.map((function(e,t){return o.a.createElement(O.a,{container:!0,spacing:2,key:t},o.a.createElement(O.a,{item:!0,container:!0},o.a.createElement(O.a,{item:!0,xs:12,sm:12,md:12,container:!0},o.a.createElement(O.a,{item:!0,xs:12,sm:4,md:3},o.a.createElement(N.a,{px:1},o.a.createElement("form",{className:a.form_root,noValidate:!0,autoComplete:"off"},o.a.createElement("div",{className:"w-full"},o.a.createElement(w.a,{required:!0,id:"full-name",placeholder:"Full Name",label:"Full Name",value:n[t],onChange:function(e){return function(e,a){n[e]=a.target.value,i(b(n,l,c))}(t,e)},variant:"outlined"}))))),o.a.createElement(O.a,{item:!0,xs:12,sm:4,md:3},o.a.createElement(N.a,{px:1},o.a.createElement("form",{className:a.form_root,noValidate:!0,autoComplete:"off"},o.a.createElement("div",{className:"w-full"},o.a.createElement(w.a,{required:!0,id:"email",placeholder:"Email",label:"Email",value:c[t],name:"email",onChange:function(e){return function(e,a){c[e]=a.target.value,i(b(n,l,c))}(t,e)},variant:"outlined"}))))),o.a.createElement(O.a,{item:!0,xs:12,sm:4,md:3},o.a.createElement(N.a,{px:1},o.a.createElement("form",{className:a.form_root,noValidate:!0,autoComplete:"off"},o.a.createElement("div",{className:"w-full"},o.a.createElement(w.a,{required:!0,id:"mobile",placeholder:"Mobile",label:"Mobile",value:l[t],name:"mobile",onChange:function(e){return function(e,a){l[e]=a.target.value,i(b(n,l,c))}(t,e)},variant:"outlined"}))))),o.a.createElement(O.a,{item:!0,xs:12,sm:4,md:3},o.a.createElement(O.a,{container:!0,alignItems:"flex-start",justify:"flex-center",direction:"row"},o.a.createElement(T.a,{color:"primary",style:{background:"#039be5"},"aria-label":"add",size:"medium",onClick:function(){n=[].concat(Object(g.a)(n),[""]),l=[].concat(Object(g.a)(l),[""]),c=[].concat(Object(g.a)(c),[""]),i(b(n,l,c))},className:"m-12"},o.a.createElement(J.a,null)),o.a.createElement(T.a,{color:"primary",style:{background:"rgb(245, 68, 0)"},"aria-label":"delete",size:"medium",onClick:function(){n.splice(t,1),l.splice(t,1),c.splice(t,1),i(b(n,l,c))},className:"m-12"},o.a.createElement(U.a,null)))))))})),o.a.createElement(O.a,{container:!0,spacing:2},o.a.createElement(O.a,{item:!0,xs:12,sm:12,md:12,container:!0},o.a.createElement(O.a,{container:!0,alignItems:"flex-start",justify:"flex-end",direction:"row"},o.a.createElement(j.a,{variant:"contained",color:"primary",style:{background:"#039be5"},size:"large",className:a.button,onClick:function(){i(function(e,a,t,n){var o=s()({method:"post",url:"https://test.udros.com/api/api/school_admin/update_counselors",data:{school_id:e,full_name:a,mobile:t,email:n},config:{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}});return function(e){return o.then((function(a){return e({type:f,payload:a.data})}))}}(e.school.id,n,l,c)).then((function(e){p(!0)}))},startIcon:o.a.createElement(k.a,null)},"UPDATE"))))))}a.default=Object(c.a)("getCounselor",p)((function(e){var a=Object(r.b)(),t=Object(r.c)((function(e){return e.getCounselor.counselorData}));return Object(n.useEffect)((function(){a(function(e){var a=s()({method:"post",url:"https://test.udros.com/api/api/school_admin/get_counselors",data:{},config:{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}});return function(e){return a.then((function(a){return e({type:f,payload:a.data})}))}}(e.match.params.user_id))}),[a]),t?o.a.createElement("div",{className:"w-full"},o.a.createElement(l.a,{className:"text-32 p-20",component:"h3",style:{backgroundColor:"#0098E0",color:"#FFF"}},"Counselors List"),o.a.createElement("div",{className:"p-20"},o.a.createElement(L,{data:t.data.counselor[0],school:t.data.school,className:"w-full"}))):null}))}}]);