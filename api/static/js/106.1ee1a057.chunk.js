(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[106],{1436:function(e,t,a){"use strict";var n=a(67),r=a(68),l=a(113),c=a(112),i=a(270),o=a(0),s=a.n(o);t.a=function(e,t){return function(a){return function(o){Object(l.a)(u,o);var m=Object(c.a)(u);function u(a){var r;return Object(n.a)(this,u),r=m.call(this,a),Object(i.b)(e,t),r}return Object(r.a)(u,[{key:"render",value:function(){return s.a.createElement(a,this.props)}}]),u}(s.a.PureComponent)}}},1477:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return d}));var n=a(0),r=a(1350),l=a(3),c=a(1368),i=a(52),o=a(1435),s=a(1447),m=a(1446),u=Object(c.a)({toolbarLandscape:{flexWrap:"wrap"},toolbarAmpmLeftPadding:{paddingLeft:50},separator:{margin:"0 4px 0 2px",cursor:"default"},hourMinuteLabel:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},hourMinuteLabelAmpmLandscape:{marginTop:"auto"},hourMinuteLabelReverse:{flexDirection:"row-reverse"},ampmSelection:{marginLeft:20,marginRight:-20,display:"flex",flexDirection:"column"},ampmLandscape:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"},ampmSelectionWithSeconds:{marginLeft:15,marginRight:10},ampmLabel:{fontSize:18}},{name:"MuiPickersTimePickerToolbar"});function d(e,t,a){var l=Object(r.c)();return{meridiemMode:Object(m.d)(e,l),handleMeridiemChange:Object(n.useCallback)((function(n){var r=Object(m.c)(e,n,Boolean(t),l);a(r,!1)}),[t,e,a,l])}}var p=function(e){var t=e.date,a=e.views,c=e.ampm,p=e.openView,f=e.onChange,b=e.isLandscape,h=e.setOpenView,E=Object(r.c)(),v=Object(i.a)(),O=u(),g=d(t,c,f),y=g.meridiemMode,j=g.handleMeridiemChange,x=b?"h3":"h2";return Object(n.createElement)(o.b,{isLandscape:b,className:Object(l.default)(b?O.toolbarLandscape:c&&O.toolbarAmpmLeftPadding)},Object(n.createElement)("div",{className:Object(l.default)(O.hourMinuteLabel,c&&b&&O.hourMinuteLabelAmpmLandscape,{rtl:O.hourMinuteLabelReverse}[v.direction])},Object(s.d)(a,"hours")&&Object(n.createElement)(o.c,{variant:x,onClick:function(){return h(m.b.HOURS)},selected:p===m.b.HOURS,label:E.getHourText(t,Boolean(c))}),Object(s.d)(a,["hours","minutes"])&&Object(n.createElement)(o.f,{label:":",variant:x,selected:!1,className:O.separator}),Object(s.d)(a,"minutes")&&Object(n.createElement)(o.c,{variant:x,onClick:function(){return h(m.b.MINUTES)},selected:p===m.b.MINUTES,label:E.getMinuteText(t)}),Object(s.d)(a,["minutes","seconds"])&&Object(n.createElement)(o.f,{variant:"h2",label:":",selected:!1,className:O.separator}),Object(s.d)(a,"seconds")&&Object(n.createElement)(o.c,{variant:"h2",onClick:function(){return h(m.b.SECONDS)},selected:p===m.b.SECONDS,label:E.getSecondText(t)})),c&&Object(n.createElement)("div",{className:Object(l.default)(O.ampmSelection,b&&O.ampmLandscape,Object(s.d)(a,"seconds")&&O.ampmSelectionWithSeconds)},Object(n.createElement)(o.c,{disableRipple:!0,variant:"subtitle1",selected:"am"===y,typographyClassName:O.ampmLabel,label:E.getMeridiemText("am"),onClick:function(){return j("am")}}),Object(n.createElement)(o.c,{disableRipple:!0,variant:"subtitle1",selected:"pm"===y,typographyClassName:O.ampmLabel,label:E.getMeridiemText("pm"),onClick:function(){return j("pm")}})))}},1520:function(e,t,a){"use strict";a.d(t,"a",(function(){return N})),a.d(t,"b",(function(){return k}));var n=a(6),r=a(0),l=a.n(r),c=(a(2),a(1350)),i=(a(3),a(1),a(5),a(1368)),o=a(52),s=a(1435),m=(a(1468),a(452)),u=(a(122),a(1457)),d=(a(35),a(14),a(53),a(55),a(56),a(1477)),p=a(1440),f=a(1408),b=a(1409),h=a(209),E=function(e){return"date"===e||"year"===e?"date":"time"},v=Object(i.a)((function(e){var t="light"===e.palette.type?e.palette.primary.main:e.palette.background.default;return{tabs:{color:e.palette.getContrastText(t),backgroundColor:t}}}),{name:"MuiPickerDTTabs"}),O=function(e){var t=e.view,a=e.onChange,n=e.dateRangeIcon,l=e.timeIcon,c=v(),i="light"===Object(o.a)().palette.type?"secondary":"primary";return Object(r.createElement)(h.a,null,Object(r.createElement)(b.a,{variant:"fullWidth",value:E(t),onChange:function(e,n){n!==E(t)&&a("date"===n?"date":"hours")},className:c.tabs,indicatorColor:i},Object(r.createElement)(f.a,{value:"date",icon:Object(r.createElement)(r.Fragment,null,n)}),Object(r.createElement)(f.a,{value:"time",icon:Object(r.createElement)(r.Fragment,null,l)})))};O.defaultProps={dateRangeIcon:Object(r.createElement)((function(e){return l.a.createElement(m.a,e,l.a.createElement("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),l.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}))}),null),timeIcon:Object(r.createElement)((function(e){return l.a.createElement(m.a,e,l.a.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),l.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"}))}),null)};var g=Object(i.a)((function(e){return{toolbar:{paddingLeft:16,paddingRight:16,justifyContent:"space-around"},separator:{margin:"0 4px 0 2px",cursor:"default"}}}),{name:"MuiPickerDTToolbar"}),y=function(e){var t=e.date,a=e.openView,n=e.setOpenView,l=e.ampm,i=e.hideTabs,m=e.dateRangeIcon,u=e.timeIcon,f=e.onChange,b=Object(c.c)(),h=g(),E=!i&&"undefined"!==typeof window&&window.innerHeight>667,v=Object(d.b)(t,l,f),y=v.meridiemMode,j=v.handleMeridiemChange,x="rtl"===Object(o.a)().direction;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(s.b,{isLandscape:!1,className:h.toolbar},Object(r.createElement)(p.a,{container:!0,justify:"center",wrap:"nowrap"},Object(r.createElement)(p.a,{item:!0,container:!0,xs:5,justify:"flex-start",direction:"column"},Object(r.createElement)("div",null,Object(r.createElement)(s.c,{variant:"subtitle1",onClick:function(){return n("year")},selected:"year"===a,label:b.getYearText(t)})),Object(r.createElement)("div",null,Object(r.createElement)(s.c,{variant:"h4",onClick:function(){return n("date")},selected:"date"===a,label:b.getDateTimePickerHeaderText(t)}))),Object(r.createElement)(p.a,{item:!0,container:!0,xs:6,justify:"center",alignItems:"flex-end",direction:x?"row-reverse":"row"},Object(r.createElement)(s.c,{variant:"h3",onClick:function(){return n("hours")},selected:"hours"===a,label:b.getHourText(t,l)}),Object(r.createElement)(s.f,{variant:"h3",label:":",className:h.separator}),Object(r.createElement)(s.c,{variant:"h3",onClick:function(){return n("minutes")},selected:"minutes"===a,label:b.getMinuteText(t)})),l&&Object(r.createElement)(p.a,{item:!0,container:!0,xs:1,direction:"column",justify:"flex-end"},Object(r.createElement)(s.c,{variant:"subtitle1",selected:"am"===y,label:b.getMeridiemText("am"),onClick:function(){return j("am")}}),Object(r.createElement)(s.c,{variant:"subtitle1",selected:"pm"===y,label:b.getMeridiemText("pm"),onClick:function(){return j("pm")}})))),E&&Object(r.createElement)(O,{dateRangeIcon:m,timeIcon:u,view:a,onChange:n}))};function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var x=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},u.b,{wider:!0,orientation:"portrait",openTo:"date",views:["year","date","hours","minutes"]});function C(e){var t=Object(c.c)();if("portrait"!==e.orientation)throw new Error("We are not supporting custom orientation for DateTimePicker yet :(");return{getDefaultFormat:function(){return Object(s.h)(e.format,e.ampm,{"12h":t.dateTime12hFormat,"24h":t.dateTime24hFormat})}}}var N=Object(s.g)({useOptions:C,Input:s.d,useState:s.i,DefaultToolbarComponent:y}),k=Object(s.g)({useOptions:C,Input:s.a,useState:s.e,DefaultToolbarComponent:y,getCustomProps:function(e){return{refuse:e.ampm?/[^\dap]+/gi:/[^\d]+/gi}}});N.defaultProps=x,k.defaultProps=x},1917:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(0),o=(n=i)&&n.__esModule?n:{default:n};var s={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.reCalculateColumnCount=a.reCalculateColumnCount.bind(a),a.reCalculateColumnCountDebounce=a.reCalculateColumnCountDebounce.bind(a);var n=void 0;return n=a.props.breakpointCols&&a.props.breakpointCols.default?a.props.breakpointCols.default:parseInt(a.props.breakpointCols)||2,a.state={columnCount:n},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"componentDidMount",value:function(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}},{key:"componentDidUpdate",value:function(){this.reCalculateColumnCount()}},{key:"componentWillUnmount",value:function(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}},{key:"reCalculateColumnCountDebounce",value:function(){var e=this;window&&window.requestAnimationFrame?(window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame((function(){e.reCalculateColumnCount()}))):this.reCalculateColumnCount()}},{key:"reCalculateColumnCount",value:function(){var e=window&&window.innerWidth||1/0,t=this.props.breakpointCols;"object"!==("undefined"===typeof t?"undefined":l(t))&&(t={default:parseInt(t)||2});var a=1/0,n=t.default||2;for(var r in t){var c=parseInt(r);c>0&&e<=c&&c<a&&(a=c,n=t[r])}n=Math.max(1,parseInt(n)||1),this.state.columnCount!==n&&this.setState({columnCount:n})}},{key:"itemsInColumns",value:function(){for(var e=this.state.columnCount,t=new Array(e),a=[].concat(this.props.children||[]),n=0;n<a.length;n++){var r=n%e;t[r]||(t[r]=[]),t[r].push(a[n])}return t}},{key:"renderColumns",value:function(){var e=this.props,t=e.column,a=e.columnAttrs,n=void 0===a?{}:a,l=e.columnClassName,c=this.itemsInColumns(),i=100/c.length+"%",s=l;"string"!==typeof s&&(this.logDeprecated('The property "columnClassName" requires a string'),"undefined"===typeof s&&(s="my-masonry-grid_column"));var m=r({},t,n,{style:r({},n.style,{width:i}),className:s});return c.map((function(e,t){return o.default.createElement("div",r({},m,{key:t}),e)}))}},{key:"logDeprecated",value:function(e){console.error("[Masonry]",e)}},{key:"render",value:function(){var e=this.props,t=(e.children,e.breakpointCols,e.columnClassName,e.columnAttrs,e.column,e.className),a=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]),n=t;return"string"!==typeof t&&(this.logDeprecated('The property "className" requires a string'),"undefined"===typeof t&&(n="my-masonry-grid")),o.default.createElement("div",r({},a,{className:n}),this.renderColumns())}}]),t}(o.default.Component);m.defaultProps=s,t.default=m},2909:function(e,t,a){"use strict";a.r(t);var n=a(193),r=a(1436),l=a(0),c=a.n(l),i=a(8),o=a(1396),s=a(73),m=a.n(s),u="[NOTES APP] GET NOTES",d="[NOTES APP] SET SEARCH TEXT",p="[NOTES APP] CREATE NOTE",f="[NOTES APP] UPDATE NOTE",b="[NOTES APP] REMOVE NOTE";var h="[NOTES APP] GET LABELS",E="[NOTES APP] LABELS UPDATE LABELS";var v=a(23),O=a(195),g=a(10),y=a(1377),j=a(716),x=a(476),C=a(1338),N=a(1339),k=a(208),w=a(26);var S=function(e){var t=e||{};return{id:t.id||w.a.generateGUID(),name:t.name||"",get handle(){return w.a.handleize(this.name)}}},T=a(3);var D=function(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.notesApp.labels.entities})),n=Object(l.useState)(a),r=Object(v.a)(n,2),o=r[0],s=r[1],u=Object(O.b)({name:""}),d=u.form,p=u.handleChange,f=u.resetForm;Object(l.useEffect)((function(){s(a)}),[a]);var b=Object(O.a)((function(e){t(function(e){var t=m.a.post("/api/notes-app/update-labels",{labels:Object.values(e)});return function(e){return t.then((function(t){return e({type:E,payload:t.data})}))}}(e))}),600);function h(){return""===d.name}return Object(l.useEffect)((function(){o&&!g.a.isEqual(o,a)&&b(o)}),[b,a,o]),c.a.createElement(c.a.Fragment,null,c.a.createElement(k.a,{className:"text-16 mb-8 font-600"},"Edit Labels"),c.a.createElement(C.a,{dense:!0},c.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),!h()){var t=new S(d);s(g.a.setIn(o,t.id,t)),f()}}},c.a.createElement(N.a,{className:"p-0 mb-16",dense:!0},c.a.createElement(y.a,{className:"list-item-icon text-16",color:"action"},"add"),c.a.createElement(x.a,{className:Object(T.default)("flex flex-1 mx-8"),name:"name",value:d.name,onChange:p,placeholder:"Create new label"}),c.a.createElement(j.a,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",disabled:h(),type:"submit"},c.a.createElement(y.a,{fontSize:"small"},"check")))),Object(l.useMemo)((function(){return Object.entries(o).map((function(e){var t=Object(v.a)(e,2),a=(t[0],t[1]);return c.a.createElement(N.a,{className:"p-0",key:a.id,dense:!0},c.a.createElement(y.a,{className:"list-item-icon text-16",color:"action"},"label"),c.a.createElement(x.a,{className:Object(T.default)("flex flex-1 mx-8"),name:"name",value:a.name,onChange:function(e){return function(e,t){var a=new S(g.a.setIn(t,e.target.name,e.target.value));s(g.a.setIn(o,a.id,a))}(e,a)},disableUnderline:!0}),c.a.createElement(j.a,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",onClick:function(e){return function(e){s(g.a.omit(o,[e.id]))}(a)}},c.a.createElement(y.a,{fontSize:"small"},"delete")))}))}),[o])))};var A=function(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.notesApp.labels.labelsDialogOpen}));return c.a.createElement(o.a,{classes:{paper:"w-full max-w-320 p-16 m-24 rounded-8"},onClose:function(e){return t({type:"[NOTES APP] LABELS DIALOG CLOSE"})},open:a},c.a.createElement(D,null))},I=a(732),L=a(51),P=a(1382),z=a(1398),M=a(1383);var R=function(e){var t=e||{};return{id:t.id||w.a.generateGUID(),title:t.title||"",description:t.description||"",archive:t.archive||!1,image:t.image||"",time:t.time||null,reminder:t.reminder||null,checklist:t.checklist||[],labels:t.labels||[]}},_=a(7),H=a(1389),F=a(30);var B=function(e){var t=Object(i.c)((function(e){return e.notesApp.labels.entities}));if(!t)return null;var a=t[e.id];if(!a)return null;var n=e.linkable?{component:F.a,onClick:function(e){e.stopPropagation()},to:"/apps/notes/labels/".concat(a.handle,"/").concat(a.id)}:{};return c.a.createElement(H.a,Object.assign({},n,{label:a.name,classes:Object(_.a)({root:Object(T.default)("h-24",e.className),label:"px-12 py-4 text-11",deleteIcon:"w-16"},e.classes),variant:"outlined",onDelete:e.onDelete}))},U=a(465),G=a.n(U);var W=function(e){return e.date?c.a.createElement(H.a,{icon:c.a.createElement(y.a,{className:"text-16"},"access_time"),label:G()(e.date).format("MMM DD YY, h:mm A"),classes:Object(_.a)({root:Object(T.default)("h-24",e.className),label:"px-12 py-4 text-11",deleteIcon:"w-16"},e.classes),variant:"outlined",onDelete:e.onDelete}):null},V=a(107),q=a(13);var Y=function(e){var t=e||{};return{id:t.id||w.a.generateGUID(),checked:t.checked||!1,text:t.text||""}};var J=function(e){var t=Object(O.b)({text:""}),a=t.form,n=t.handleChange,r=t.resetForm;function l(){return""===a.text}return c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),l()||(e.onListItemAdd(new Y(a)),r())}},c.a.createElement(N.a,{className:"p-0",dense:!0},c.a.createElement(j.a,{className:"w-32 h-32 p-0 -mx-4","aria-label":"Add",type:"submit",disabled:l()},c.a.createElement(y.a,{fontSize:"small"},"add")),c.a.createElement(x.a,{className:"flex flex-1 px-8",name:"text",value:a.text,onChange:n,placeholder:"Add an item",disableUnderline:!0,autoFocus:!0})))},Z=a(1387);var K=function(e){function t(t){e.onListItemChange(g.a.setIn(e.item,t.target.name,"checkbox"===t.target.type?t.target.checked:t.target.value))}return e.item?c.a.createElement(N.a,{className:"p-0",key:e.item.id,dense:!0},c.a.createElement(Z.a,{className:"p-0",checked:e.item.checked,tabIndex:-1,disableRipple:!0,name:"checked",onChange:t,color:"default"}),c.a.createElement(x.a,{className:Object(T.default)("flex flex-1 mx-8",e.item.checked&&"line-through opacity-50"),name:"text",value:e.item.text,onChange:t,disableUnderline:!0}),c.a.createElement(j.a,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",onClick:function(){return e.onListItemRemove(e.item.id)}},c.a.createElement(y.a,{fontSize:"small"},"delete"))):null};var X=function(e){function t(t){e.onCheckListChange(e.checklist.map((function(e){return e.id===t.id?t:e})))}function a(t){e.onCheckListChange(e.checklist.filter((function(e){return e.id!==t})))}return e.checklist?c.a.createElement("div",{className:e.className},c.a.createElement(C.a,{dense:!0},e.checklist.map((function(e){return c.a.createElement(K,{item:e,key:e.id,onListItemChange:t,onListItemRemove:a})})),c.a.createElement(J,{onListItemAdd:function(t){e.onCheckListChange([].concat(Object(q.a)(e.checklist),[t]))}}))):null},Q=a(1341),$=a(1384),ee=a(1335);var te=function(e){var t=Object(i.c)((function(e){return e.notesApp.labels.entities})),a=Object(l.useState)(null),n=Object(v.a)(a,2),r=n[0],o=n[1];function s(){o(null)}return c.a.createElement("div",null,c.a.createElement(j.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(e){o(e.currentTarget)}},c.a.createElement(y.a,{fontSize:"small"},"label")),c.a.createElement(ee.a,{hideBackdrop:!0,open:Boolean(r),anchorEl:r,onClose:s,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},className:"pointer-events-none",classes:{paper:"pointer-events-auto py-8 prevent-add-close"}},c.a.createElement(Q.a,{onClickAway:s},c.a.createElement(C.a,{className:"p-0"},Object.entries(t).map((function(t){var a=Object(v.a)(t,2),n=(a[0],a[1]);return c.a.createElement(N.a,{key:n.id,button:!0,dense:!0,onClick:function(){return t=n.id,void e.onChange(g.a.xor(e.note.labels,[t]));var t}},c.a.createElement(y.a,{className:"list-item-icon text-16",color:"action"},e.note.labels.includes(n.id)?"check_box":"check_box_outline_blank"),c.a.createElement($.a,{className:"truncate px-8",primary:n.name,disableTypography:!0}))}))))))},ae=a(1746),ne=a(1350),re=a(1520);var le=function(e){var t=Object(l.useState)(!1),a=Object(v.a)(t,2),n=a[0],r=a[1],i=new Date(e.reminder);return c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(){return r(!0)}},c.a.createElement(y.a,{fontSize:"small"},"notifications_active")),c.a.createElement(ne.a,{utils:ae.a},c.a.createElement(re.a,{className:"hidden",open:n,onOpen:function(){return r(!0)},onClose:function(){return r(!1)},clearable:!0,showTodayButton:!0,disablePast:!0,value:i,onChange:e.onChange,DialogProps:{className:"prevent-add-close"}})))};var ce=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("label",{htmlFor:"button-file"},c.a.createElement("input",{accept:"image/*",className:"hidden",id:"button-file",type:"file",onChange:e.onChange}),c.a.createElement(j.a,{className:"w-32 h-32 mx-4 p-0",component:"span"},c.a.createElement(y.a,{fontSize:"small"},"image"))))};function ie(e){var t=Object(l.useState)(!1),a=Object(v.a)(t,2),n=a[0],r=a[1],i=Object(O.b)(g.a.merge({},new R,e.note,e.match.params.labelId?{labels:[e.match.params.labelId]}:null,"archive"===e.match.params.id?{archive:!0}:null)),o=i.form,s=i.handleChange,m=i.setForm,u=e.onChange;function d(t){e.onCreate&&e.onCreate(o)}function p(){return""===o.title&&""===o.image&&""===o.description&&0===o.checklist.length}return Object(O.d)((function(){o&&u&&u(o)}),[o,u]),o?c.a.createElement("div",{className:"flex flex-col w-full"},c.a.createElement(L.a,{className:"flex flex-auto w-full max-h-640"},c.a.createElement("div",{className:"w-full"},o.image&&""!==o.image&&c.a.createElement("div",{className:"relative"},c.a.createElement("img",{src:o.image,className:"w-full block",alt:"note"}),c.a.createElement(z.a,{className:"absolute right-0 bottom-0 m-8",variant:"extended",size:"small",color:"secondary","aria-label":"Delete Image",onClick:function(){m(g.a.setIn(o,"image",""))}},c.a.createElement(y.a,{fontSize:"small"},"delete"))),c.a.createElement("div",{className:"p-16 pb-12"},c.a.createElement(x.a,{className:"font-bold",placeholder:"Title",type:"text",name:"title",value:o.title,onChange:s,disableUnderline:!0,fullWidth:!0})),c.a.createElement("div",{className:"p-16 pb-12"},c.a.createElement(x.a,{placeholder:"Take a note...",multiline:!0,rows:"4",name:"description",value:o.description,onChange:s,disableUnderline:!0,fullWidth:!0,autoFocus:!0})),(o.checklist.length>0||n)&&c.a.createElement("div",{className:"px-16"},c.a.createElement(X,{checklist:o.checklist,onCheckListChange:function(e){m(g.a.setIn(o,"checklist",e))}})),(o.labels||o.reminder||o.time)&&c.a.createElement("div",{className:"flex flex-wrap w-full p-16 pb-12 -mx-4"},o.reminder&&c.a.createElement(W,{className:"mt-4 mx-4",date:o.reminder}),o.labels&&o.labels.map((function(e){return c.a.createElement(B,{id:e,key:e,className:"mt-4 mx-4",onDelete:function(){return function(e){m(g.a.setIn(o,"labels",o.labels.filter((function(t){return t!==e}))))}(e)}})})),o.time&&c.a.createElement(k.a,{color:"textSecondary",className:"text-12 mt-8 mx-4"},"Edited: ",G()(o.time).format("MMM DD YY, h:mm A"))))),c.a.createElement("div",{className:"flex flex-auto justify-between items-center h-48"},c.a.createElement("div",{className:"flex items-center px-4"},c.a.createElement(M.a,{title:"Remind me",placement:"bottom"},c.a.createElement("div",null,c.a.createElement(le,{reminder:o.reminder,onChange:function(e){m(g.a.setIn(o,"reminder",e))}}))),c.a.createElement(M.a,{title:"Add image",placement:"bottom"},c.a.createElement("div",null,c.a.createElement(ce,{onChange:function(e){var t=e.target.files[0];if(t){var a=new FileReader;a.readAsBinaryString(t),a.onload=function(){m(g.a.setIn(o,"image","data:".concat(t.type,";base64,").concat(btoa(a.result))))},a.onerror=function(){console.log("error on load image")}}}}))),c.a.createElement(M.a,{title:"Add checklist",placement:"bottom"},c.a.createElement(j.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(){r(!n)}},c.a.createElement(y.a,{fontSize:"small"},"playlist_add_check"))),c.a.createElement(M.a,{title:"Change labels",placement:"bottom"},c.a.createElement("div",null,c.a.createElement(te,{note:o,onChange:function(e){m(g.a.setIn(o,"labels",e))}}))),c.a.createElement(M.a,{title:o.archive?"Unarchive":"Archive",placement:"bottom"},c.a.createElement("div",null,c.a.createElement(j.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(){m(g.a.setIn(o,"archive",!o.archive)),"new"===e.variant&&setTimeout((function(){return d()}))},disabled:p()},c.a.createElement(y.a,{fontSize:"small"},o.archive?"unarchive":"archive"))))),c.a.createElement("div",{className:"flex items-center px-4"},"new"===e.variant?c.a.createElement(P.a,{className:"m-4",onClick:d,variant:"outlined",size:"small",disabled:p()},"Create"):c.a.createElement(c.a.Fragment,null,c.a.createElement(M.a,{title:"Delete Note",placement:"bottom"},c.a.createElement(j.a,{className:"w-32 h-32 mx-4 p-0",onClick:e.onRemove},c.a.createElement(y.a,{fontSize:"small"},"delete"))),c.a.createElement(P.a,{className:"m-4",onClick:e.onClose,variant:"outlined",size:"small"},"Close"))))):null}ie.defaultProps={variant:"edit",note:null};var oe=Object(V.h)(ie),se=c.a.forwardRef((function(e,t){return c.a.createElement(I.a,Object.assign({direction:"up",ref:t},e))}));var me=function(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.notesApp.notes})),n=Object(O.a)((function(e){t(function(e){var t=m.a.post("/api/notes-app/update-note",{note:e});return function(e){return t.then((function(t){return e({type:f,note:t.data})}))}}(e))}),600);return a.entities?c.a.createElement(o.a,{classes:{paper:"w-full m-24 rounded-8"},TransitionComponent:se,onClose:function(e){return t({type:"[NOTES APP] CLOSE NOTE DIALOG"})},open:Boolean(a.noteDialogId)},c.a.createElement(oe,{note:a.entities[a.noteDialogId],onChange:n,onClose:function(e){return t({type:"[NOTES APP] CLOSE NOTE DIALOG"})},onRemove:function(){t(function(e){var t=m.a.post("/api/notes-app/remove-note",{noteId:e});return function(a){return t.then((function(){a({type:b,id:e})}))}}(a.noteDialogId))}})):null},ue=a(209),de=a(1368),pe=Object(de.a)({button:{cursor:"text"}});var fe=function(e){var t=Object(i.b)(),a=pe(e),n=Object(l.useState)(!1),r=Object(v.a)(n,2),o=r[0],s=r[1];function u(){o&&(s(!1),document.removeEventListener("keydown",d,!1))}function d(e){27===e.keyCode&&u()}return c.a.createElement(Q.a,{onClickAway:function(e){var t=document.querySelector(".prevent-add-close");!!t&&t.contains(e.target)||u()}},c.a.createElement(ue.a,{className:Object(T.default)(a.button,"flex items-center w-full max-w-512 mt-8 mb-16 min-h-48"),elevation:1},o?c.a.createElement(oe,{onCreate:function(e){t(function(e){var t=m.a.post("/api/notes-app/create-note",{note:e});return function(e){return t.then((function(t){e({type:p,note:t.data})}))}}(e)),u()},variant:"new"}):c.a.createElement(k.a,{className:"w-full px-16 py-12 font-500 text-16 w-full",color:"textSecondary",onClick:function(){s(!0),document.addEventListener("keydown",d,!1)}},"Take a note..")))},be=a(1917),he=a.n(be),Ee=a(133),ve=a(1406),Oe={1:{fontSize:14,lineHeight:19},2:{fontSize:18,lineHeight:28},3:{fontSize:24,lineHeight:36},4:{fontSize:36,lineHeight:48},5:{fontSize:48,lineHeight:60}};var ge=function(e,t,a){if(t){t.style.fontSize=null,t.style.lineHeight=null;var n=t.clientWidth;if(0!==n&&a){var r,l=document.createElement("div");l.style.display="inline-block",l.style.fontSize="10px",l.style.fontWeight="200",l.style.lineHeight="10px",l.style.position="absolute",l.style.whiteSpace="pre-wrap",l.style.wordWrap="break-word",l.style.pointerEvents="none",l.style.visibility="hidden",document.body.appendChild(l);var c=e.split(" ").map((function(e){return l.textContent=e.toString(),l.clientWidth})),i=Math.max.apply(Math,Object(q.a)(c)),o=Math.floor(10*n/i);o<18?r=1:o>=18&&o<24?r=2:o>=24&&o<36?r=3:o>=36&&o<48?r=4:o>=48&&(r=5);var s=Oe[r],m=s.lineHeight,u=s.fontSize;l.textContent=e,l.style.width="".concat(n,"px"),l.style.fontSize="".concat(u,"px"),l.style.lineHeight="".concat(m,"px");var d=l.clientHeight/m;d>4&&d<6?r=4:d>=6&&d<9?r=3:d>=9&&d<11?r=2:d>=11&&(r=1),document.body.removeChild(l),m=Oe[r].lineHeight,u=Oe[r].fontSize,t.style.fontSize="".concat(u,"px"),t.style.lineHeight="".concat(m,"px")}}};var ye=function(e){var t=Object(i.b)();return c.a.createElement(Ee.a,{animation:"transition.fadeIn",duration:400,delay:100},c.a.createElement(ve.a,{className:Object(T.default)("cursor-pointer",e.className),onClick:function(){return t({type:"[NOTES APP] OPEN NOTE DIALOG",payload:e.note.id})}},e.note.image&&""!==e.note.image&&c.a.createElement("img",{src:e.note.image,className:"w-full block",alt:"note"}),e.note.title&&""!==e.note.title&&c.a.createElement(k.a,{className:"p-16 pb-8 text-14 font-bold"},e.note.title),e.note.description&&""!==e.note.description&&c.a.createElement(k.a,{className:"py-8 px-16",component:"div"},c.a.createElement("div",{className:Object(T.default)("w-full break-words",e.variateDescSize?"font-200":"text-14"),ref:function(t){setTimeout((function(){return ge(e.note.description,t,e.variateDescSize)}))}},e.note.description)),e.note.checklist&&e.note.checklist.length>0&&c.a.createElement("ul",{className:"py-8 px-16 flex flex-wrap list-reset"},e.note.checklist.map((function(e){return c.a.createElement("li",{key:e.id,className:"flex items-center w-full"},c.a.createElement(y.a,{color:"action",className:"text-16"},e.checked?"check_box_outline":"check_box_outline_blank"),c.a.createElement(k.a,{className:Object(T.default)("truncate mx-8",e.checked&&"line-through"),color:e.checked?"textSecondary":"inherit"},e.text))}))),(e.note.labels.length>0||e.note.reminder)&&c.a.createElement("div",{className:"py-8 px-16 flex flex-wrap w-full -mx-2"},e.note.reminder&&c.a.createElement(W,{className:"mt-4 mx-2",date:e.note.reminder}),e.note.labels.map((function(e){return c.a.createElement(B,{id:e,key:e,className:"mt-4 mx-2",linkable:!0})})))))};var je=Object(V.h)((function(e){var t=Object(i.c)((function(e){return e.notesApp.notes.entities})),a=Object(i.c)((function(e){return e.notesApp.notes.variateDescSize})),n=Object(i.c)((function(e){return e.notesApp.notes.searchText})),r=Object(l.useState)(null),o=Object(v.a)(r,2),s=o[0],m=o[1];return Object(l.useEffect)((function(){t&&m(function(){var a=e.match.params,r=a.id,l=a.labelId,c=Object.keys(t).map((function(e){return t[e]}));return l&&(c=c.filter((function(e){return e.labels.includes(l)&&!e.archive}))),r||(c=c.filter((function(e){return!e.archive}))),"archive"===r&&(c=c.filter((function(e){return e.archive}))),"reminders"===r&&(c=c.filter((function(e){return Boolean(e.reminder)&&!e.archive}))),0===n.length?c:c=w.a.filterArrayByString(c,n)}())}),[t,n,e.match]),s&&0!==s.length?c.a.createElement("div",{className:"flex flex-wrap w-full"},c.a.createElement(he.a,{breakpointCols:{default:6,1920:5,1600:4,1366:3,1280:4,960:3,600:2,480:1},className:"my-masonry-grid flex w-full",columnClassName:"my-masonry-grid_column flex flex-col p-8"},s.map((function(e){return c.a.createElement(ye,{key:e.id,note:e,className:"w-full rounded-8 shadow-none border-1 mb-16",variateDescSize:a})})))):c.a.createElement("div",{className:"flex items-center justify-center h-full"},c.a.createElement(k.a,{color:"textSecondary",variant:"h5"},"There are no notes!"))})),xe=a(1388),Ce=Object(de.a)((function(e){return{root:{},inputWrapper:{backgroundColor:e.palette.primary.dark}}}));function Ne(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.notesApp.notes.searchText})),n=Ce(e),r=Object(l.useState)(!1),o=Object(v.a)(r,2),s=o[0],m=o[1];function u(){m(!0),document.addEventListener("keydown",f,!1)}function p(){m(!1),t({type:d,searchText:""}),document.removeEventListener("keydown",f,!1)}function f(e){27===e.keyCode&&p()}return c.a.createElement("div",{className:Object(T.default)(n.root,"flex",e.className)},c.a.createElement(M.a,{title:"Click to search",placement:"bottom"},c.a.createElement("div",{onClick:u,onKeyDown:u,role:"button",tabIndex:0},e.trigger)),s&&c.a.createElement(Q.a,{onClickAway:function(){p()}},c.a.createElement("div",{className:Object(T.default)(n.inputWrapper,"absolute left-0 right-0 top-0 bottom-0 h-full z-9999 px-8 sm:px-24")},c.a.createElement("div",{className:"flex items-center w-full h-full"},c.a.createElement(x.a,{placeholder:"Search for anything",className:"flex flex-1 py-0 px-16 h-64",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:function(e){return t({type:d,searchText:e.target.value})},autoFocus:!0}),c.a.createElement(j.a,{onClick:p,className:"mx-8"},c.a.createElement(y.a,null,"close"))))))}Ne.defaultProps={trigger:c.a.createElement(j.a,{className:"w-64 h-64"},c.a.createElement(y.a,null,"search"))};var ke=Ne;var we=function(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.notesApp.notes.variateDescSize}));return c.a.createElement("div",{className:"flex flex-1 items-center justify-between p-8 sm:p-24 relative"},c.a.createElement("div",{className:"flex flex-shrink items-center sm:w-224"},c.a.createElement(xe.a,{lgUp:!0},c.a.createElement(j.a,{onClick:function(t){return e.pageLayout.current.toggleLeftSidebar()},"aria-label":"open left sidebar"},c.a.createElement(y.a,null,"menu"))),c.a.createElement("div",{className:"flex items-center"},c.a.createElement(Ee.a,{animation:"transition.expandIn",delay:300},c.a.createElement(y.a,{className:"text-32"},"account_box")),c.a.createElement(Ee.a,{animation:"transition.slideLeftIn",delay:300},c.a.createElement(k.a,{variant:"h6",className:"mx-12 hidden sm:flex"},"Notes")))),c.a.createElement("div",{className:"flex flex-1 items-center justify-end"},c.a.createElement(M.a,{title:"Toggle Variate Description Size"},c.a.createElement(j.a,{onClick:function(e){return t({type:"[NOTES APP] TOGGLE VARIATE DESC SIZE"})}},c.a.createElement(y.a,{color:a?"action":"disabled"},"format_size"))),c.a.createElement(ke,null)))},Se=a(54),Te=a(119),De=a(1402),Ae=a(1401),Ie=Object(de.a)((function(e){return{paper:Object(Se.a)({},e.breakpoints.down("md"),{boxShadow:"none"}),listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:24,paddingRight:12,"&.active":{backgroundColor:e.palette.secondary.main,color:"".concat(e.palette.secondary.contrastText,"!important"),pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{marginRight:16}}}}));var Le=function(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.notesApp.labels.entities})),n=Ie(e);return c.a.createElement("div",{className:"p-0 lg:p-24 lg:ltr:pr-4 lg:rtl:pl-4"},c.a.createElement(Ee.a,{animation:"transition.slideLeftIn",delay:200},c.a.createElement(ue.a,{elevation:1,className:Object(T.default)(n.paper,"rounded-8")},c.a.createElement(C.a,null,c.a.createElement(N.a,{button:!0,component:Te.a,to:"/apps/notes",exact:!0,activeClassName:"active",className:n.listItem},c.a.createElement(y.a,{className:"list-item-icon text-16",color:"action"},"label"),c.a.createElement($.a,{className:"truncate",primary:"Notes",disableTypography:!0})),c.a.createElement(N.a,{button:!0,component:Te.a,to:"/apps/notes/reminders",exact:!0,activeClassName:"active",className:n.listItem},c.a.createElement(y.a,{className:"list-item-icon text-16",color:"action"},"notifications"),c.a.createElement($.a,{className:"truncate",primary:"Reminders",disableTypography:!0}))),c.a.createElement(De.a,null),c.a.createElement(C.a,null,c.a.createElement(Ae.a,null,"Labels"),Object.entries(a).map((function(e){var t=Object(v.a)(e,2),a=(t[0],t[1]);return c.a.createElement(N.a,{key:a.id,button:!0,component:Te.a,to:"/apps/notes/labels/".concat(a.handle,"/").concat(a.id),exact:!0,activeClassName:"active",className:n.listItem},c.a.createElement(y.a,{className:"list-item-icon text-16",color:"action"},"label"),c.a.createElement($.a,{className:"truncate",primary:a.name,disableTypography:!0}))})),c.a.createElement(N.a,{button:!0,className:n.listItem,onClick:function(e){return t({type:"[NOTES APP] LABELS DIALOG OPEN"})}},c.a.createElement(y.a,{className:"list-item-icon text-16",color:"action"},"edit"),c.a.createElement($.a,{className:"truncate",primary:"Edit Labels",disableTypography:!0}))),c.a.createElement(De.a,null),c.a.createElement(C.a,null,c.a.createElement(N.a,{button:!0,component:Te.a,to:"/apps/notes/archive",activeClassName:"active",className:n.listItem},c.a.createElement(y.a,{className:"list-item-icon text-16",color:"action"},"archive"),c.a.createElement($.a,{className:"truncate",primary:"Archive",disableTypography:!0}))))))},Pe=a(74),ze={entities:{},labelsDialogOpen:!1},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:case E:return Object(_.a)(Object(_.a)({},e),{},{entities:g.a.keyBy(t.payload,"id")});case"[NOTES APP] LABELS DIALOG OPEN":return Object(_.a)(Object(_.a)({},e),{},{labelsDialogOpen:!0});case"[NOTES APP] LABELS DIALOG CLOSE":return Object(_.a)(Object(_.a)({},e),{},{labelsDialogOpen:!1});default:return e}},Re={entities:null,searchText:"",noteDialogId:null,variateDescSize:!0},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(_.a)(Object(_.a)({},e),{},{entities:g.a.keyBy(t.payload,"id")});case d:return Object(_.a)(Object(_.a)({},e),{},{searchText:t.searchText});case"[NOTES APP] TOGGLE VARIATE DESC SIZE":return Object(_.a)(Object(_.a)({},e),{},{variateDescSize:!e.variateDescSize});case"[NOTES APP] OPEN NOTE DIALOG":return Object(_.a)(Object(_.a)({},e),{},{noteDialogId:t.payload});case"[NOTES APP] CLOSE NOTE DIALOG":return Object(_.a)(Object(_.a)({},e),{},{noteDialogId:null});case p:return Object(_.a)(Object(_.a)({},e),{},{entities:g.a.cloneDeep(g.a.assign(Object(Se.a)({},t.note.id,t.note),e.entities))});case b:return Object(_.a)(Object(_.a)({},e),{},{entities:g.a.cloneDeep(g.a.omit(e.entities,[t.id])),noteDialogId:null});case f:return Object(_.a)(Object(_.a)({},e),{},{entities:g.a.cloneDeep(g.a.set(e.entities,t.note.id,t.note))});default:return e}},He=Object(Pe.d)({notes:_e,labels:Me});t.default=Object(r.a)("notesApp",He)((function(e){var t=Object(i.b)(),a=Object(l.useRef)(null);return Object(l.useEffect)((function(){t(function(){var e=m.a.get("/api/notes-app/notes");return function(t){return e.then((function(e){return t({type:u,payload:e.data})}))}}()),t(function(){var e=m.a.get("/api/notes-app/labels");return function(t){return e.then((function(e){return t({type:h,payload:e.data})}))}}())}),[t]),c.a.createElement(c.a.Fragment,null,c.a.createElement(n.a,{classes:{contentWrapper:"p-16 sm:p-24 pb-80",content:"flex min-h-full",leftSidebar:"w-256 border-0",header:"min-h-72 h-72"},header:c.a.createElement(we,{pageLayout:a}),content:c.a.createElement("div",{className:"flex flex-col w-full items-center"},c.a.createElement(fe,null),c.a.createElement(je,null),c.a.createElement(me,null),c.a.createElement(A,null)),leftSidebarContent:c.a.createElement(Le,null),sidebarInner:!0,ref:a,innerScroll:!0}))}))}}]);